{"version":3,"sources":["components/RegLoginLogout/RegForm.jsx","components/AuthContext.jsx","components/RegLoginLogout/Login.jsx","views/RegAndLogin.jsx","components/RegLoginLogout/Logout.jsx","components/ProductForm.jsx","components/Modal.jsx","components/ItemCards/ItemCard.jsx","views/ProductsList.jsx","components/ProvideAuth.jsx","components/Rating/Rating.jsx","components/Comment/CommentForm.jsx","components/Comment/CommentHolder.jsx","views/ProductDetail.jsx","App.js","reportWebVitals.js","index.js"],"names":["RegForm","props","useState","username","email","password","confirmPassword","user","setUser","err","setErr","onChangeHandler","e","target","name","value","style","textAlign","margin","onSubmit","preventDefault","axios","post","withCredentials","then","res","console","log","data","errors","localStorage","setItem","_id","navigate","catch","className","htmlFor","type","onChange","message","AuthContext","createContext","Login","context","useContext","inputs","setInputs","login","emailLogin","RegAndLogin","Logout","Button","variant","color","onClick","logout","ProductForm","initialState","product","setProduct","callBack","handleClose","TextField","autoFocus","label","title","defaultValue","startBid","increment","image","fullWidth","desc","padding","btn","Modal","open","setOpen","theme","useTheme","fullScreen","useMediaQuery","breakpoints","down","action","Dialog","onClose","aria-labelledby","DialogTitle","id","modalTitle","DialogContent","create","useStyles","makeStyles","root","maxWidth","maxHeight","ImgMediaCard","classes","Card","CardActionArea","CardMedia","component","alt","height","CardContent","Typography","gutterBottom","CardActions","size","active","Loggedin","getItem","loggedin","eachBid","price","rating","numReviews","user_id","createProduct","activeProducts","setActiveProducts","pastProducts","setPastProducts","useEffect","get","newProduct","Date","enddate","now","to","map","i","ProvideAuth","Provider","clear","children","Rating","rate","styleStar","clipPath","CommentForm","product_id","productId","_creator","content","createdAt","comment","setComment","toISOString","required","multiline","rows","placeholder","CommentHolder","createdTime","toLocaleString","dateStyle","timeStyle","moment","fromNow","ProductDetail","comments","setComments","loaded","setLoaded","io","socket","setEachBid","error","setError","userId","commentsEndRef","useRef","on","msg","off","isActive","current","scrollTop","scrollHeight","clientHeight","src","from","Number","totalPrice","updatedBid","put","emit","ref","length","newComment","updated","App","exact","noThrow","path","ProductsList","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.506b6afe.chunk.js","sourcesContent":["import React, {useState} from \"react\";\r\nimport axios from \"axios\";\r\nimport {navigate} from \"@reach/router\"\r\n\r\nconst RegForm = props => {\r\n    const initialState = {\r\n        username:\"\",\r\n        email:\"\",\r\n        password:\"\",\r\n        confirmPassword:\"\"\r\n    };\r\n    \r\n    const [user, setUser] = useState(initialState);\r\n    const [err, setErr] = useState({});\r\n\r\n    const onChangeHandler = e => {\r\n        setUser({\r\n            ...user,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n\r\n    const onSumitHandler = (e) => {\r\n        e.preventDefault();\r\n        axios.post(\"http://localhost:8000/api/users/register\", user, { withCredentials: true })\r\n        .then(res => {\r\n            console.log(res.data)\r\n            if(res.data.errors){\r\n                setErr(res.data.errors);\r\n            }else{\r\n                console.log(\"register successfully\");\r\n                localStorage.setItem(\"loggedin\", res.data._id);\r\n                navigate(\"/\");\r\n            }\r\n        })\r\n        .catch(err=>console.log(\"Error: \" + err));\r\n    };\r\n\r\n\r\n    return(\r\n        <>\r\n        <form style={{textAlign: \"center\", margin:\"auto\"}} onSubmit={onSumitHandler}>\r\n            <div className=\"form-group col-8\">\r\n                <label htmlFor=\"username\">Username: </label>\r\n                <input type=\"text\" className=\"form-control\" name=\"username\" value={user.username} onChange={onChangeHandler}/>\r\n                {err.username && <small className=\"text-danger\">{err.username.message}</small>}\r\n            </div>\r\n            <div className=\"form-group col-8\">\r\n                <label htmlFor=\"email\">Email: </label>\r\n                <input type=\"text\" className=\"form-control\" name=\"email\" value={user.email} onChange={onChangeHandler}/>\r\n                {err.email && <small className=\"text-danger\">{err.email.message}</small>}\r\n            </div>\r\n            <div className=\"form-group col-8\">\r\n                <label htmlFor=\"password\">Password: </label>\r\n                <input type=\"text\" className=\"form-control\" name=\"password\" value={user.password} onChange={onChangeHandler}/>\r\n                {err.password && <small className=\"text-danger\">{err.password.message}</small>}\r\n            </div>\r\n            <div className=\"form-group col-8\">\r\n                <label htmlFor=\"confirmPassword\">Confirm Password: </label>\r\n                <input type=\"text\" className=\"form-control\" name=\"confirmPassword\" value={user.confirmPassword} onChange={onChangeHandler}/>\r\n                {err.confirmPassword && <small className=\"text-danger\">{err.confirmPassword.message}</small>}\r\n            </div>\r\n            <div className=\"form-group col-8\">\r\n                <input className=\"btn btn-primary\" type=\"submit\" value=\"Register\"/>\r\n            </div>\r\n        </form>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default RegForm;","import {createContext} from \"react\";\r\n\r\nconst AuthContext = createContext();\r\n\r\nexport default AuthContext;","import React, {useState, useContext} from \"react\";\r\nimport AuthContext from \"../AuthContext\";\r\n\r\nconst Login = props => {\r\n    const context = useContext(AuthContext);\r\n    const [inputs, setInputs] = useState({\r\n        email: \"\",\r\n        password:\"\"\r\n\r\n    });\r\n    \r\n\r\n    const onChangeHandler = e => {\r\n        setInputs({\r\n            ...inputs,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n\r\n    const onSubmitHandler = e => {\r\n        e.preventDefault();\r\n        context.login(inputs);\r\n    };\r\n\r\n    return(\r\n        <>\r\n        <form style={{textAlign: \"center\", margin:\"auto\"}} className=\"form-group\" onSubmit={onSubmitHandler}>\r\n            <div className=\"form-group col-8\">\r\n                <label htmlFor=\"email\">Email: </label>\r\n                <input type=\"text\" className=\"form-control\" name=\"email\" onChange={onChangeHandler}/>\r\n            </div>\r\n            <div className=\"form-group col-8\">\r\n                <label htmlFor=\"password\">Password: </label>\r\n                <input type=\"text\" className=\"form-control\" name=\"password\" onChange={onChangeHandler}/>\r\n            </div>\r\n            <div className=\"form-group col-8\">\r\n                {context.err.emailLogin && <small className=\"text-danger\">{context.err.emailLogin.message}</small>}\r\n            </div>\r\n            <div className=\"form-group col-8\">\r\n                <input className=\"btn btn-success\" type=\"submit\" value=\"Log in\"/>\r\n            </div>\r\n        </form>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Login;\r\n","import React from \"react\";\r\nimport RegForm from \"../components/RegLoginLogout/RegForm\";\r\nimport Login from \"../components/RegLoginLogout/Login\";\r\n\r\nconst RegAndLogin = props => {\r\n    \r\n    \r\n\r\n\r\n    return(\r\n        <>\r\n            <RegForm/>\r\n            <Login/>\r\n        </>\r\n        \r\n    );\r\n};\r\n\r\nexport default RegAndLogin;","import React, {useContext} from \"react\";\r\n// import { navigate } from \"@reach/router\";\r\n// import axios from \"axios\";\r\nimport {Button} from \"@material-ui/core\";\r\nimport AuthContext from \"../AuthContext\";\r\n\r\nconst Logout = props => {\r\n    const context = useContext(AuthContext);\r\n    const onClickHandler = e =>{\r\n        context.logout();\r\n    };\r\n\r\n    return(\r\n        <>\r\n        <Button variant=\"contained\" color=\"secondary\" onClick={onClickHandler}>Log out</Button>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Logout;","import React, {useState} from 'react';\r\nimport {TextField, Button} from '@material-ui/core';\r\n\r\nexport default function ProductForm(props) {\r\n    \r\n    const [product, setProduct] = useState(props.initialState);\r\n    const onChangeHandler = e => {\r\n        setProduct({\r\n            ...product,\r\n            [e.target.name]: e.target.value\r\n        });\r\n    };\r\n\r\n    const onSubmitHandler = e => {\r\n        e.preventDefault();\r\n        props.callBack(product);\r\n        props.handleClose();\r\n    }\r\n\r\n    return(\r\n        <form onSubmit={onSubmitHandler}>\r\n            <div>\r\n                <TextField\r\n                autoFocus\r\n                margin=\"dense\"\r\n                name=\"title\"\r\n                label=\"Title\"\r\n                type=\"text\"\r\n                value={product.title}\r\n                onChange={onChangeHandler}\r\n                />\r\n                <span className=\"col-sm-2\"> </span>\r\n                <TextField\r\n                margin=\"dense\"\r\n                name=\"enddate\"\r\n                label=\"Auction End Time\"\r\n                type=\"datetime-local\"\r\n                defaultValue=\"2020-12-31T10:30\"\r\n                onChange={onChangeHandler}\r\n                />\r\n                <span className=\"col-sm-2\"> </span>\r\n                <TextField\r\n                margin=\"dense\"\r\n                name=\"startBid\"\r\n                label=\"Starting Bid ($US Dollar)\"\r\n                type=\"text\"\r\n                value={product.startBid}\r\n                onChange={onChangeHandler}\r\n                />\r\n                <span className=\"col-sm-2\"> </span>\r\n                <TextField\r\n                margin=\"dense\"\r\n                name=\"eachBid\"\r\n                label=\"Bid Increment($US Dollar)\"\r\n                type=\"text\"\r\n                value={product.increment}\r\n                onChange={onChangeHandler}\r\n                />\r\n            </div>\r\n            <TextField\r\n            margin=\"dense\"\r\n            name=\"image\"\r\n            label=\"Image URL\"\r\n            type=\"text\"\r\n            value={product.image}\r\n            onChange={onChangeHandler}\r\n            fullWidth\r\n            />\r\n            <TextField\r\n            margin=\"dense\"\r\n            name=\"desc\"\r\n            label=\"Description\"\r\n            type=\"text\"\r\n            value={product.desc}\r\n            onChange={onChangeHandler}\r\n            fullWidth\r\n            />\r\n            <div style={{padding:\"15px 15px 15px 0\"}}>\r\n                <Button type=\"submit\" variant=\"contained\" color=\"primary\">{props.btn}</Button>\r\n                <span className=\"col-sm-2\"> </span>\r\n                <Button onClick={props.handleClose} variant=\"contained\" color=\"secondary\">Cancle</Button>\r\n            </div>\r\n        </form>\r\n    )\r\n\r\n\r\n};\r\n","import React, {useState} from \"react\";\r\n// import axios from \"axios\";\r\nimport Button from '@material-ui/core/Button';\r\nimport Dialog from '@material-ui/core/Dialog';\r\n// import DialogActions from '@material-ui/core/DialogActions';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\n// import DialogContentText from '@material-ui/core/DialogContentText';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\r\nimport { useTheme } from '@material-ui/core/styles';\r\nimport ProductForm from \"./ProductForm\";\r\n\r\nexport default function Modal(props) {\r\n    const [open, setOpen] = useState(false);\r\n    const theme = useTheme();\r\n    const fullScreen = useMediaQuery(theme.breakpoints.down('sm'));\r\n\r\n    const handleClickOpen = () => {\r\n        setOpen(true);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        setOpen(false);\r\n    };\r\n    // console.log(props.initialState)\r\n\r\n    return (\r\n        <div>\r\n        <Button variant=\"contained\" color=\"primary\" onClick={handleClickOpen}>\r\n            {props.action}\r\n        </Button>\r\n        <Dialog\r\n            fullScreen={fullScreen}\r\n            open={open}\r\n            onClose={handleClose}\r\n            aria-labelledby=\"responsive-dialog-title\"\r\n        >\r\n            <DialogTitle id=\"responsive-dialog-title\">{props.modalTitle}</DialogTitle>\r\n            <DialogContent>\r\n            \r\n            <ProductForm\r\n            initialState={props.initialState}\r\n            callBack={props.callBack}\r\n            handleClose={handleClose}\r\n            btn={props.create? \"Add Product\":\"Update Product\"}\r\n            />\r\n            \r\n            </DialogContent>\r\n            {/* <DialogActions>\r\n            <Button autoFocus onClick={handleClose} color=\"primary\">\r\n                Cancle\r\n            </Button>\r\n            <Button type=\"submit\" color=\"primary\" autoFocus>\r\n                {props.create? \"Add\":\"Update\"}\r\n            </Button>\r\n            </DialogActions> */}\r\n        </Dialog>\r\n        </div>\r\n    );\r\n};","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActionArea from '@material-ui/core/CardActionArea';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardMedia from '@material-ui/core/CardMedia';\r\nimport Button from '@material-ui/core/Button';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport {navigate} from \"@reach/router\";\r\n\r\nconst useStyles = makeStyles({\r\n    root: {\r\n        maxWidth: 345,\r\n        maxHeight: 450,\r\n        padding: \"10px\",\r\n    },\r\n});\r\n\r\nexport default function ImgMediaCard(props) {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n    <Card onClick={()=>navigate(\"/products/\"+props.product._id)} className={classes.root}>\r\n        <CardActionArea>\r\n        <CardMedia\r\n            component=\"img\"\r\n            alt={props.product.title}\r\n            height=\"300\"\r\n            image={props.product.image}\r\n            title={props.product.title}\r\n        />\r\n        <CardContent>\r\n            <Typography gutterBottom variant=\"body2\" component=\"h2\">\r\n            {props.product.title}\r\n            </Typography>\r\n        </CardContent>\r\n        </CardActionArea>\r\n        <CardActions>\r\n        <Button onClick={()=>navigate(\"/products/\"+props.product._id)} size=\"small\" color=\"primary\">\r\n        {props.active===\"active\"? \"Learn More and Bid\" : \"Learn More (Bid Ended)\"}\r\n        </Button>\r\n        </CardActions>\r\n    </Card>\r\n    );\r\n}\r\n","import axios from \"axios\";\r\nimport React, {useState, useEffect} from \"react\";\r\nimport Logout from \"../components/RegLoginLogout/Logout\";\r\nimport Modal from \"../components/Modal\";\r\nimport {Link} from \"@reach/router\";\r\nimport ItemCard from \"../components/ItemCards/ItemCard\";\r\nimport \"./ProductList.css\"\r\n\r\n\r\nconst Loggedin = props => {\r\n\r\n    const [loggedin] = useState(()=> localStorage.getItem(\"loggedin\"));\r\n    const initialState = {\r\n        title: \"\",\r\n        startBid: 0,\r\n        eachBid:1.00,\r\n        price: 0,\r\n        image: \"\",\r\n        desc: \"\",\r\n        rating: 0,\r\n        numReviews: 0,\r\n        user_id:loggedin\r\n    };\r\n    const [createProduct] = useState(true);\r\n    const [activeProducts, setActiveProducts] = useState([]);\r\n    const [pastProducts, setPastProducts] = useState([]);\r\n\r\n    useEffect(()=>{\r\n        axios.get(\"http://localhost:8000/api/products/active\", {withCredentials: true})\r\n        .then(res=>{\r\n            setActiveProducts(res.data)\r\n        })\r\n        .catch(err=>console.log(err));\r\n        \r\n        axios.get(\"http://localhost:8000/api/products/past\", {withCredentials: true})\r\n        .then(res=>{\r\n            setPastProducts(res.data)\r\n        })\r\n        .catch(err=>console.log(err));\r\n\r\n    },[]);\r\n\r\n    const addProduct = newProduct => {\r\n        axios.post(\"http://localhost:8000/api/products/new\", newProduct, {withCredentials: true})\r\n        .then(res => {\r\n            var newProductEndDate = new Date(newProduct.enddate);\r\n\r\n            if(newProductEndDate >= Date.now()){\r\n                setActiveProducts([\r\n                    ...activeProducts,\r\n                    res.data\r\n                ]);\r\n            }else{\r\n                setPastProducts([\r\n                    ...pastProducts,\r\n                    res.data\r\n                ]);\r\n            }\r\n        })\r\n        .catch(err => console.log(\"Error \"+ err));\r\n    };\r\n\r\n    return(\r\n        \r\n        <>\r\n        <div className=\"welcome-header\">\r\n        {\r\n            loggedin?\r\n            (\r\n                <>\r\n                <Modal\r\n                action=\"Add your item\"\r\n                modalTitle=\"New Product\"\r\n                create={createProduct}\r\n                callBack={addProduct}\r\n                initialState={initialState}\r\n                />\r\n                <Logout/> \r\n                </>\r\n            )\r\n            :\r\n            (\r\n                <>\r\n                    <h2>Welcome to RealTimeBid!</h2>\r\n                <div>\r\n                    <Link className=\"btn btn-info\" to=\"/reg\">Register or Log in to bid now!!</Link>\r\n                </div>\r\n                </>\r\n            )\r\n        }\r\n        </div>\r\n        <h3>Active Items</h3>\r\n        <div className=\"list-grid\">\r\n        {\r\n            activeProducts.map((product, i)=>{\r\n                return (\r\n                    <div className=\"each-item\">\r\n                        <ItemCard key={i} active=\"active\" product={product}/>\r\n                    </div>\r\n                );\r\n            })\r\n        }\r\n        </div>\r\n        <h3>Bid Ended</h3>\r\n        <div className=\"list-grid\">\r\n        {\r\n            pastProducts.map((product, i)=>{\r\n                return (\r\n                    <div className=\"each-item\">\r\n                        <ItemCard key={i} active=\"non-active\" product={product}/>\r\n                    </div>\r\n                );\r\n            })\r\n        }\r\n        </div>\r\n        \r\n        </>\r\n    );\r\n};\r\n\r\nexport default Loggedin;","import React, {useState} from \"react\";\r\nimport AuthContext from \"./AuthContext\";\r\nimport axios from \"axios\";\r\nimport {navigate} from \"@reach/router\";\r\n\r\nconst ProvideAuth = props => {\r\n\r\n    const [err, setErr] = useState({});\r\n\r\n    const login= inputs => {\r\n        axios.post(\"http://localhost:8000/api/login\", inputs, { withCredentials: true })\r\n        .then(res => {\r\n            if(res.data.errors){\r\n                setErr(res.data.errors);\r\n            }else{\r\n                console.log(\"Logged in succefully\")\r\n                localStorage.setItem(\"loggedin\", res.data._id);\r\n                navigate(\"/\");\r\n            }\r\n        })\r\n        .catch(err=>console.log(\"Error: \" + err));\r\n    };\r\n\r\n    const logout = e => {\r\n        axios.get(\"http://localhost:8000/api/logout\", {withCredentials:true})\r\n        .then(res=>{\r\n            localStorage.clear()\r\n            navigate(\"/\");\r\n        })\r\n        .catch(err=>console.log(\"Error: \" + err));\r\n    };\r\n\r\n    return(\r\n        <AuthContext.Provider value={{err, login, logout}} >\r\n            {props.children}\r\n        </AuthContext.Provider>\r\n    );\r\n};\r\n\r\nexport default ProvideAuth;","import React from \"react\";\r\nimport \"./Rating.css\"\r\n\r\nconst Rating = props => {\r\n    let rate = 0;\r\n    if(props.product.numReviews && props.product.numReviews!==0){\r\n        rate = 100 - (props.product.rating / props.product.numReviews *20);\r\n    }else if(!props.product.numReviews){\r\n        rate = 100 -props.product.rating *20;\r\n    }\r\n\r\n    const styleStar = {\r\n        clipPath: props.product.numReviews===0? `inset(0 100% 0 0)` : `inset(0 ${rate}% 0 0)`\r\n    };\r\n\r\n    return(\r\n        <div className=\"rating\">\r\n            <div className=\"star\">\r\n                <i className=\"far fa-star\"></i>\r\n                <i className=\"far fa-star\"></i>\r\n                <i className=\"far fa-star\"></i>\r\n                <i className=\"far fa-star\"></i>\r\n                <i className=\"far fa-star\"></i>\r\n\r\n                <div className=\"star-1\" style={styleStar}>\r\n                    <i className=\"fas fa-star\"></i>\r\n                    <i className=\"fas fa-star\"></i>\r\n                    <i className=\"fas fa-star\"></i>\r\n                    <i className=\"fas fa-star\"></i>\r\n                    <i className=\"fas fa-star\"></i>\r\n                </div>\r\n        </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Rating;","import React, {useState} from \"react\";\r\nimport {TextField, Button} from '@material-ui/core';\r\nimport \"./CommentForm.css\";\r\n\r\n\r\nconst CommentForm = props => {\r\n    \r\n    const [comment, setComment] = useState({\r\n        product_id: props.productId,\r\n        _creator: props.user,\r\n        content:\"\",\r\n        rating: 0,\r\n        createdAt: \"\",\r\n    });\r\n\r\n    const onChangeHandler = e => {\r\n        setComment({\r\n            ...comment,\r\n            [e.target.name]: e.target.value\r\n        })\r\n    };\r\n\r\n    const onSubmitHandler = e => {\r\n        e.preventDefault();\r\n        const createdAt = new Date().toISOString();\r\n        setComment({\r\n            ...comment,\r\n            createdAt:createdAt,\r\n        });\r\n        props.callBack(comment);\r\n        setComment({\r\n            ...comment,\r\n            content:\"\",\r\n        });\r\n    };\r\n\r\n    return(\r\n        <div style={{margin: \"15px 0\"}}>\r\n            <form onSubmit={onSubmitHandler}>\r\n                <span>Rate this item:</span>\r\n                <div className=\"reviews\">\r\n                    <input type=\"radio\" name=\"rating\" id=\"rd-5\" value={5} onChange={onChangeHandler}/>\r\n                    <label htmlFor=\"rd-5\" className=\"fas fa-star\"></label>\r\n\r\n                    <input type=\"radio\" name=\"rating\" id=\"rd-4\" value={4} onChange={onChangeHandler}/>\r\n                    <label htmlFor=\"rd-4\" className=\"fas fa-star\"></label>\r\n\r\n                    <input type=\"radio\" name=\"rating\" id=\"rd-3\" value={3} onChange={onChangeHandler}/>\r\n                    <label htmlFor=\"rd-3\" className=\"fas fa-star\"></label>\r\n\r\n                    <input type=\"radio\" name=\"rating\" id=\"rd-2\" value={2} onChange={onChangeHandler}/>\r\n                    <label htmlFor=\"rd-2\" className=\"fas fa-star\"></label>\r\n\r\n                    <input type=\"radio\" name=\"rating\" id=\"rd-1\" value={1} onChange={onChangeHandler}/>\r\n                    <label htmlFor=\"rd-1\" className=\"fas fa-star\"></label>\r\n                </div>\r\n\r\n                <div className=\"text-field\">\r\n                    <TextField\r\n                        required\r\n                        id=\"standard-multiline-flexible\"\r\n                        label=\"Required\"\r\n                        name=\"content\"\r\n                        multiline\r\n                        fullWidth\r\n                        rows={4}\r\n                        placeholder=\"Enter your comment\"\r\n                        variant=\"outlined\"\r\n                        value={comment.content}\r\n                        onChange={onChangeHandler}\r\n                    />\r\n                </div>\r\n\r\n                <div className=\"button\">\r\n                    <Button type=\"submit\" variant=\"contained\" color=\"primary\">{props.btn}</Button>\r\n                </div>\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CommentForm;","import React, {useState, useEffect} from \"react\";\r\nimport moment from \"moment\";\r\nimport Rating from \"../Rating/Rating\";\r\nimport axios from \"axios\";\r\nimport \"./CommentHolder.css\"\r\n\r\n\r\nconst CommentHolder = props =>{\r\n\r\n    const [user, setUser] = useState({});\r\n\r\n    useEffect(() => {\r\n        axios.get(\"http://localhost:8000/api/users/\" + props.comment._creator)\r\n        .then(res=>{\r\n            setUser(res.data);\r\n        })\r\n        .catch(err=>console.log(err));\r\n    }, [props.comment._creator]);\r\n\r\n    const createdTime = new Date(props.comment.createdAt).toLocaleString(\"en-US\", {dateStyle: \"short\",timeStyle: \"short\"});\r\n\r\n    return(\r\n        <div className=\"commentHolder\">\r\n            <div className=\"commentHeader\">\r\n                <div className=\"name-time\">\r\n                    <div>{user===null? <b>Deleted user</b>  : <b>{user.username}</b>}</div>\r\n                    <div>\r\n                        <small>{moment(props.comment.createdAt).fromNow()}, </small>\r\n                        <small> {createdTime}</small>\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    {\r\n                        props.comment.rating !==0 &&\r\n                        (\r\n                        <>\r\n                        \r\n                        <Rating product={props.comment}/>\r\n                        </>\r\n                        )\r\n                    }\r\n                </div>\r\n            </div>\r\n            <p>{props.comment.content}</p>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default CommentHolder;","import React, {useState, useEffect, useRef} from \"react\";\r\nimport axios from \"axios\";\r\nimport Rating from \"../components/Rating/Rating\";\r\nimport CommentForm from \"../components/Comment/CommentForm\";\r\nimport io from \"socket.io-client\";\r\nimport CommentHolder from \"../components/Comment/CommentHolder\"\r\nimport moment from \"moment\";\r\nimport Logout from \"../components/RegLoginLogout/Logout\";\r\nimport {Link} from \"@reach/router\";\r\nimport \"./ProductDetail.css\"\r\n\r\n\r\nconst ProductDetail = props =>{\r\n\r\n    const [product, setProduct] = useState({});\r\n    const [user, setUser] = useState({});\r\n    const [comments, setComments] = useState([]);\r\n    const [loggedin] = useState(()=> localStorage.getItem(\"loggedin\"));\r\n    const [loaded, setLoaded] = useState(false);\r\n    const [socket] = useState(() => io(\":8000\"));\r\n    const [eachBid, setEachBid] = useState(0);\r\n    const [error, setError] = useState(\"\");\r\n    const [userId] = useState(localStorage.getItem(\"loggedin\"))\r\n    const commentsEndRef = useRef(null);\r\n\r\n    useEffect(()=>{\r\n        // get current user\r\n        axios.get(\"http://localhost:8000/api/users/\"+userId, {withCredentials:true})\r\n        .then(res => {\r\n            setUser(res.data);\r\n        })\r\n        .catch(err=> console.log(\"Error: \"+ err));\r\n        \r\n        // get current product\r\n        axios.get(\"http://localhost:8000/api/products/\"+props.id, {withCredentials:true})\r\n        .then(res => {\r\n            setProduct(res.data)\r\n        })\r\n        .catch(err=>console.log(err));\r\n\r\n        // get comment list\r\n        axios.get(\"http://localhost:8000/api/comments/\"+props.id, {withCredentials:true})\r\n        .then(res => {\r\n            setComments(res.data);\r\n            setLoaded(true);\r\n        })\r\n        .catch(err => console.log(\"Error: \" + err))\r\n\r\n    },[props.id, userId]);\r\n\r\n    useEffect(()=>{\r\n        socket.on(\"sendCommentToClient\", msg=>{\r\n            setComments([\r\n                ...comments,\r\n                msg\r\n            ]);\r\n        });\r\n        return () => socket.off(\"sendCommentToClient\");\r\n    }, [socket, comments])\r\n\r\n    const isActive = () =>{\r\n        if(loaded){\r\n            var inputEndDate = new Date(product.enddate);\r\n            if(inputEndDate < Date.now()) return false;\r\n                return true;\r\n        }\r\n    }\r\n    console.log(isActive())\r\n\r\n    // new comment\r\n    const createComment = newComment =>{\r\n        // create new comment\r\n        axios.post(\"http://localhost:8000/api/comments/new\", newComment, {withCredentials:true})\r\n        .then(res => {\r\n            socket.emit(\"createComment\", res.data);\r\n        })\r\n        .catch(err=>console.log(\"Error: \" + err));\r\n        \r\n        // update product numReviews and rating\r\n        if(newComment.rating !== 0){\r\n            var numReviews = product.numReviews + 1;\r\n            var rating = Number(product.rating) + Number(newComment.rating);\r\n        }\r\n\r\n        const updated = {...product, numReviews:numReviews, rating:rating};\r\n        // console.log(updated);\r\n        axios.put(\"http://localhost:8000/api/products/\"+props.id, updated, {withCredentials: true})\r\n        .then(res=>{\r\n            socket.emit(\"updateProductReview\", res.data);\r\n            \r\n        })\r\n        .catch(err=>console.log(\"Error: \"+err));\r\n    };\r\n\r\n    useEffect(()=>{\r\n        socket.on(\"sendUpdatedProductToClient\", msg=>{\r\n            setProduct(msg);\r\n        });\r\n        return () => socket.off(\"sendUpdatedProductToClient\");\r\n    },[socket])\r\n\r\n    // bid\r\n    const placeBid = e => {\r\n        e.preventDefault();\r\n\r\n        if(Number(eachBid) < Number(product.eachBid)){\r\n            return setError(\"Your bid cannot be less than the minimum bid increment\")\r\n        }\r\n        const totalPrice = Number(product.price) + Number(eachBid);\r\n\r\n        const updatedBid = {\r\n            ...product,\r\n            price: totalPrice\r\n        }\r\n        axios.put(\"http://localhost:8000/api/products/\"+props.id, updatedBid, {withCredentials: true})\r\n        .then(res=>{\r\n            socket.emit(\"updateProductReview\", res.data);\r\n        })\r\n        .catch(err=>console.log(\"Error: \"+err));\r\n\r\n        \r\n    };\r\n    \r\n    // auto scroll to the bottom when entering the window and when new messages come in\r\n    const scrollToBottom = () => {\r\n        if(commentsEndRef.current){\r\n            commentsEndRef.current.scrollTop = commentsEndRef.current.scrollHeight - commentsEndRef.current.clientHeight;\r\n        }\r\n    };\r\n    \r\n    useEffect(()=>{\r\n        scrollToBottom();\r\n    },[comments]);\r\n\r\n    return(\r\n        <>\r\n        {loggedin? \r\n        (\r\n            <>\r\n            <div className=\"header\">\r\n                <h2>Welcome, {user.username}!</h2>\r\n                <Link className=\"text-uppercase\" to=\"/\"><p> Back to item list</p></Link>\r\n                <Logout />\r\n            </div>\r\n            </>\r\n        ) : \r\n        (\r\n            <div className=\"py-2\">\r\n                <Link className=\"btn btn-info\" to=\"/reg\">Register or Log in to bid now!! </Link>\r\n                <Link className=\"text-uppercase\" to=\"/\"> Back to item list</Link>\r\n            </div>\r\n        )}\r\n        <h3>{product.title}</h3>\r\n        <b className=\"d-inline-block\">Rating:</b> <div className=\"d-inline-block\"><Rating product={product}/></div>\r\n        <p>{product.numReviews} reviews</p>\r\n        <div className=\"main-content\">\r\n            <div className=\"left\">\r\n                <img src={product.image} alt=\"\"/>\r\n            </div>\r\n            <div className=\"right\">\r\n                <b>Description: </b>\r\n                <p>{product.desc}</p>\r\n            </div>\r\n        </div>\r\n        <div className=\"bid-info\">\r\n            <div className=\"price\">\r\n                <h4>Current Bid: $ <span>{product.price}</span></h4>\r\n                <h4>Minimum Bid Increment: $ <span>{product.eachBid}</span></h4>\r\n            </div>\r\n\r\n            <div className=\"time\">\r\n                <h5>End Time: <span>{new Date(product.enddate).toLocaleString(\"en-US\", {dateStyle: \"short\",timeStyle: \"short\"})}</span></h5>\r\n                {\r\n                    isActive()?\r\n                    <h5>Time Left: <span>{moment(product.enddate).from(Date.now(), true)}</span></h5>\r\n                    :\r\n                    <h5>Time Left: <span>Bid has ended</span></h5>\r\n                }\r\n            </div>\r\n            \r\n        </div>\r\n        {\r\n            (loggedin && isActive()) &&\r\n            <form className=\"bid-form\" onSubmit={placeBid} >\r\n                {error && <p><small className=\"text-danger\">{error}</small></p>}\r\n                <input className=\"form-control col-sm\" type=\"number\" placeholder=\"Enter bid\" name=\"eachBid\" onChange={e => setEachBid(e.target.value)}/>\r\n                <button type=\"submit\" className=\"btn btn-danger\">BID</button>\r\n            </form>\r\n        }\r\n        <div ref={commentsEndRef} className=\"chat-window\">\r\n            {\r\n                loaded &&\r\n                comments.map(\r\n                    (comment,i)=>{\r\n                        return(\r\n                        <div key={i}>\r\n                        {\r\n                            comment.content.length>0 &&\r\n                            <>\r\n                            <CommentHolder comment={comment}/>\r\n                            </>\r\n                        }\r\n                        </div>\r\n                    );\r\n                    }\r\n                )\r\n            }\r\n        </div>\r\n        {\r\n            (loggedin && loaded && isActive()) &&\r\n            <CommentForm productId={product._id} callBack={createComment} user={user} btn=\"Say something\"/>\r\n        }\r\n        </>\r\n    );\r\n};\r\n\r\n\r\nexport default ProductDetail;","import './App.css';\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport RegAndLogin from \"./views/RegAndLogin\";\nimport ProductsList from \"./views/ProductsList\";\nimport {Redirect, Router} from \"@reach/router\";\nimport ProvideAuth from \"./components/ProvideAuth\";\nimport ProductDetail from \"./views/ProductDetail\";\n\nfunction App() {\n  return (\n    <div className=\"App\">\n      <ProvideAuth>\n        <Router>\n          <Redirect exact noThrow from=\"/\" to=\"/products\"/>\n          <RegAndLogin path=\"/reg\"/>\n          <ProductsList path=\"/products\"/>\n          <ProductDetail path=\"/products/:id\"/>\n        </Router>\n      </ProvideAuth>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n\n  <App />,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}